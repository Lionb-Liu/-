class Solution {
public:
    Node* connect(Node* root) {
        if(root == NULL)
            return root;
        Node *p1 = root->left, *p2 = root->right;
        while(p1){
            p1->next = p2;
            p1 = p1->right;
            p2 = p2->left;
        }
        connect(root->left);
        connect(root->right);
        return root;
    }
};
